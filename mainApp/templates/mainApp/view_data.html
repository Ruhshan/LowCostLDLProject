{% extends 'mainApp/base.html' %}
{% load static %}
{% load render_table from django_tables2 %}
{% block extra_head %}
    <link rel="stylesheet" href="{% static 'kendo/styles/kendo.common-bootstrap.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'kendo/styles/kendo.bootstrap.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'kendo/styles/kendo.bootstrap.mobile.min.css' %}"/>

    <script src="{% static 'kendo/js/jquery.min.js' %}"></script>
    <script src="{% static 'kendo/js/kendo.all.min.js' %}"></script>
{% endblock %}

{% block body %}
    <div class="container-fluid">
        <table id="grid">
            <colgroup>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
                <col/>
            </colgroup>
            <thead>
            <tr>
                <th data-field="id">ID</th>
                <th data-field="patient_name">Patient Name</th>
                <th data-field="patient_age">Patient Age</th>
                <th data-field="patient_gender">Gender</th>
                <th data-field="tc">Total Cholesterol</th>
                <th data-field="hdl">HDL</th>
                <th data-field="ldl">LDL</th>
                <th data-field="tg">TG</th>
                <th data-field="date">Date</th>
                <th data-field="user">Added By</th>
                <th data-field="lab">Lab</th>
            </tr>
            </thead>
            <tbody>
            {% for data in datapoints %}
                <tr>
                    <td>{{ data }}</td>
                    <td>{{ data.patient_name }}</td>
                    <td>{{ data.age }}</td>
                    <td>{{ data.gender }}</td>
                    <td>{{ data.total_cholesterol }}</td>
                    <td>{{ data.high_density_lipid }}</td>
                    <td>{{ data.low_density_lipid }}</td>
                    <td>{{ data.tri_glycerides }}</td>
                    <td>{{ data.date }}</td>
                    <td>{{ data.added_by }}</td>
                    <td>{{ data.added_by.userprofile.lab }}</td>

                </tr>
            {% endfor %}
            </tbody>
        </table>
        <script>
            $(document).ready(function () {
                $("#grid").kendoGrid({
                    height: 200,
                    sortable: true,
                    pageable: true,
                    //groupable: true,
                    filterable: true,
                    columnMenu: true,
                    reorderable: true,
                    resizable: true,
                });
            });
        </script>
    </div>
{% endblock %}